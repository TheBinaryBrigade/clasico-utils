"use strict";var Clasico=(()=>{var Y=Object.defineProperty,tt=Object.defineProperties,nt=Object.getOwnPropertyDescriptor,st=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertyNames,Ce=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var Re=(e,t,n)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))Ee.call(t,n)&&Re(e,n,t[n]);if(Ce)for(var n of Ce(t))rt.call(t,n)&&Re(e,n,t[n]);return e},K=(e,t)=>tt(e,st(t));var ke=(e,t)=>{for(var n in t)Y(e,n,{get:t[n],enumerable:!0})},ot=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of it(t))!Ee.call(e,i)&&i!==n&&Y(e,i,{get:()=>t[i],enumerable:!(s=nt(t,i))||s.enumerable});return e};var at=e=>ot(Y({},"__esModule",{value:!0}),e);var zt={};ke(zt,{default:()=>Dt});var Ae={};var he={};ke(he,{BisectArray:()=>N,ReverseCompareArray:()=>pe,ReverseNumberArray:()=>ae,ReverseSortedArray:()=>U,ReverseStringArray:()=>ce,SortedArray:()=>oe,SortedCompareArray:()=>fe,SortedNumberArray:()=>le,SortedStringArray:()=>ue});var lt=e=>{let t=e.getDay();return t===0||t===6},ct=(e,t,n)=>e>=t&&e<=n,ut=e=>{let t=new Date(e);return isNaN(t.getTime())?null:t},pt=e=>{let t=Math.floor((+new Date-+e)/1e3),n=t/31536e3;return n>1?(n=Math.floor(n),[n,n===1?"year":"years"]):(n=t/2592e3,n>1?(n=Math.floor(n),[n,n===1?"month":"months"]):(n=t/86400,n>1?(n=Math.floor(n),[n,n===1?"day":"days"]):(n=t/3600,n>1?(n=Math.floor(n),[n,n===1?"hour":"hours"]):(n=t/60,n>1?(n=Math.floor(n),[n,n===1?"minute":"minutes"]):(n=Math.floor(t),[n,n===1?"second":"seconds"])))))},F={parse:ut,isWeekend:lt,between:ct,timeSince:pt};var ne=e=>typeof e=="number"||e instanceof Number,ft=e=>typeof e=="bigint"||e instanceof BigInt,I=e=>typeof e=="string"||e instanceof String,se=e=>typeof e=="boolean"||e instanceof Boolean,ie=e=>typeof e=="function"||e instanceof Function,ht=e=>D(e)?!1:typeof e=="object",D=e=>e==null,_e=e=>Array.isArray(e)||e instanceof Array||Object.prototype.toString.call(e)==="[object Array]",Se=e=>e instanceof Set||Object.prototype.toString.call(e)==="[object Set]",mt=e=>D(e)?!1:ie(e[Symbol.iterator]),dt=e=>ne(e)?!0:I(e)?!isNaN(e)&&!isNaN(parseFloat(e)):!1,re=e=>{if(se(e))return!0;let t=ne(e),n=I(e);if(t||n){let s=["true","false",1,0,"1","0",!0,!1,!0,!1];if(s.includes(e))return!0;if(n){e=e.trim();let i=Math.max(...s.map(c=>c.toString().length));if(e.length<=i&&s.includes(e.toLowerCase()))return!0}}return!1},Be=e=>(e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof BigInt||e instanceof Symbol)&&e.valueOf&&ie(e.valueOf)?e.valueOf():e,Ne=e=>{let t=Be(e);if(e===!0||t===!0)return!0;if(re(e)){let n=[!0,"true","1",1,!0];if(n.includes(e))return!0;if(!D(t)){if(n.includes(t))return!0;I(t)&&(e=t)}if(I(e)){let s=e.trim(),i=Math.max(...n.map(c=>c.toString().length));if(s.length<=i&&n.includes(s.toLowerCase()))return!0}}return!1},gt=e=>e===!1||Be(e)===!1?!0:re(e)?!Ne(e):!1,yt=e=>D(e)||I(e)&&(e=e.trim(),!e)||se(e)||_e(e)||Se(e)?!1:!!F.parse(e),bt=(e,t=!1)=>D(e)?!1:e instanceof Error?!0:!!(t&&e&&e.stack&&e.message),x={isNil:D,isNumber:ne,isBigInt:ft,isString:I,isBoolean:se,isFunction:ie,isObject:ht,isNumeric:dt,isValidBoolean:re,isTrue:Ne,isFalse:gt,isArray:_e,isSet:Se,isIterable:mt,isDate:yt,isError:bt};var N=class extends Array{constructor(n){let s=n.items;super(...s);this.opts=n;this.isValidCmp()?this.sort(this.opts.cmp):this.sort((i,c)=>this.opts.key(i)-this.opts.key(c)),this.opts.asReversed&&this.reverse()}pop(){return this.isReversed()?super.pop():super.shift()}push(...n){for(let s of n){let i=this.binarySearch(s);this.splice(i,0,s)}return this.length}binarySearch(n){let s=0,i=this.length-1;for(;s<=i;){let c=Math.floor((s+i)/2);if(this.shouldSwap(this[c],n))s=c+1;else if(this.shouldSwap(n,this[c]))i=c-1;else return c}return s}shouldSwap(n,s){if(this.opts.cmp&&this.isValidCmp())return this.isReversed()?this.opts.cmp(s,n)<=0:this.opts.cmp(n,s)<=0;let i=this.opts.key(n),c=this.opts.key(s);return this.isReversed()?c-i<=0:i-c<=0}isValidCmp(){return this.opts.cmp&&x.isFunction(this.opts.cmp)}isReversed(){return this.opts.asReversed}},U=class extends N{constructor(t,...n){super({key:t,asReversed:!0,items:n})}},oe=class extends N{constructor(t,...n){super({key:t,asReversed:!1,items:n})}},ae=class extends N{constructor(...t){super({key:n=>n,asReversed:!0,items:t})}},le=class extends N{constructor(...t){super({key:n=>n,asReversed:!1,items:t})}},ce=class extends N{constructor(...t){super({key:()=>0,cmp:(n,s)=>n.localeCompare(s),asReversed:!0,items:t})}},ue=class extends N{constructor(...t){super({key:()=>0,cmp:(n,s)=>n.localeCompare(s),asReversed:!0,items:t})}},pe=class extends N{constructor(t,...n){super({key:()=>0,cmp:t,asReversed:!0,items:n})}},fe=class extends N{constructor(t,...n){super({key:()=>0,cmp:t,asReversed:!0,items:n})}};function*Pe(...e){let t=e.reduce((n,s)=>{let i=s.length;return i<n?i:n},1/0);for(let n=0;n<t;++n)yield e.map(s=>s[n])}function*We(e,t){for(let n=0;n<e.length;n+=t)yield e.slice(n,n+t)}function Oe(e,t){return[...X(e,t)]}function*me(e,t=0){for(let n=e.length-t;n>0;--n)yield e.substring(0,n)}function*X(e,t){let n=new Set;for(let s of e){let i=t?t(s):s;n.has(i)||(n.add(i),yield s)}}function $t(e,t){let n=[],s=0;for(let i of e)t(i,s,e)&&n.push(i),++s;return n}function je(e){if(e.length<=1)return e;let t=new Set,n=new Set,s=[];for(let i of X(e)){s.length!==2&&s.push(i);let c=t.size;for(let o of me(i,0)){for(let r of e)if(!n.has(r)&&i!==r&&r.startsWith(o)){n.add(r),t.add(o);break}if(c!==t.size)break}}return s.length===1?s:$t(t,(i,c,o)=>{let r=0;for(let d of o){if(c!==r&&i.startsWith(d))return!1;++r}return!0})}var Fe=K(S({},he),{chunkArray:We,noDuplicates:X,walkBackString:me,findAllCommonPrefixes:je,removeDuplicates:Oe,zip:Pe});function Ie(e,t,n){function s(u,h,b){let v=new Map;for(let C=h;C<=b;C++){let w=u[C];v.has(w)?(v.get(w).count++,v.get(w).index=C):v.set(w,{count:1,index:C})}return v.forEach((C,w,m)=>{C.count!==1?m.delete(w):m.set(w,C.index)}),v}function i(u,h,b,v,C,w){let m=s(u,h,b),W=s(v,C,w);return m.forEach((te,j,Z)=>{W.has(j)?Z.set(j,{indexA:te,indexB:W.get(j)}):Z.delete(j)}),m}function c(u){let h=[];u.forEach((v,C,w)=>{let m=0;for(;h[m]&&h[m][h[m].length-1].indexB<v.indexB;)m++;h[m]||(h[m]=[]),0<m&&(v.prev=h[m-1][h[m-1].length-1]),h[m].push(v)});let b=[];if(0<h.length){let v=h.length-1;for(b=[h[v][h[v].length-1]];b[b.length-1].prev;)b.push(b[b.length-1].prev)}return b.reverse()}let o=[],r=0,d=0,$=[],p=[],f=[],E=[];function l(u,h){h<0?($.push(e[u]),p.push(o.length),r++):u<0&&(f.push(t[h]),E.push(o.length),d++),o.push({line:0<=u?e[u]:t[h],aIndex:u,bIndex:h})}function g(u,h,b,v){for(;u<=h&&b<=v&&e[u]===t[b];)l(u++,b++);let C=h;for(;u<=h&&b<=v&&e[h]===t[v];)h--,v--;let w=i(e,u,h,t,b,v);if(w.size===0){for(;u<=h;)l(u++,-1);for(;b<=v;)l(-1,b++)}else B(u,h,b,v,w);for(;h<C;)l(++h,++v)}function B(u,h,b,v,C){let w=c(C||i(e,u,h,t,b,v));if(w.length===0)g(u,h,b,v);else{(u<w[0].indexA||b<w[0].indexB)&&g(u,w[0].indexA-1,b,w[0].indexB-1);let m;for(m=0;m<w.length-1;m++)g(w[m].indexA,w[m+1].indexA-1,w[m].indexB,w[m+1].indexB-1);(w[m].indexA<=h||w[m].indexB<=v)&&g(w[m].indexA,h,w[m].indexB,v)}}return B(0,e.length-1,0,t.length-1),n?{lines:o,lineCountDeleted:r,lineCountInserted:d,lineCountMoved:0,aMove:$,aMoveIndex:p,bMove:f,bMoveIndex:E}:{lines:o,lineCountDeleted:r,lineCountInserted:d,lineCountMoved:0}}var tn=Ie([],[],!0),vt=(e,t)=>{let n=Ie(e.split(`
`),t.split(`
`),!0);return{changes:n.lines.map((i,c)=>{let o="unknown";return i.aIndex>=0&&i.bIndex<0?o="deleted":i.aIndex<0&&i.bIndex>=0?o="inserted":i.aIndex>=0&&i.bIndex>=0&&(o="changed"),{changeType:o,lineNumber:c+1,lineContent:i.line,aIndex:i.aIndex,bIndex:i.bIndex}}),deletedCount:n.lineCountDeleted,insertedCount:n.lineCountInserted,movedCount:n.lineCountInserted,linedMovedFromA:n.aMove||[],linesMovedFromB:n.bMove||[],_diff:n}},De={compare:vt};var de=(e,t,n=2)=>{let s=(f,E)=>{f=" ".repeat(E-1)+f.toLowerCase()+" ".repeat(E-1);let l=new Array(f.length-E+1);for(let g=0;g<l.length;g++)l[g]=f.slice(g,g+E);return l};if(!(e!=null&&e.length)||!(t!=null&&t.length))return 0;let i=e.length<t.length?e:t,c=e.length<t.length?t:e,o=s(i,n),r=s(c,n),d=new Set(o),$=r.length,p=0;for(let f of r)d.delete(f)&&p++;return p/$},xt=(e,t,n,s=5,i=.35,c=2)=>{let o=n(e);s<=0&&(s=5);let r=new Map,d=new U($=>{let p=n($),f=r.get(p),E=f||de(o,p,c);return f===void 0&&r.set(p,E),E});return t.forEach($=>{if(de(o,n($),c)>=i&&(d.push($),d.length>s)){let f=d.pop();f&&r.delete(n(f))}}),[...d]},Q={similarity:de,topSimilar:xt};function wt(e,t=!0){if(t&&!x.isString(e)){if(x.isSet(e)&&(e=Array.from(e)),x.isObject(e))try{e=JSON.stringify(e)}catch(s){let i=[];e=JSON.stringify(e,(o,r)=>{if(typeof r=="object"&&r!==null){if(i.includes(r))return"[Circular]";i.push(r)}return r}).replace(/"\[Circular]"/g,()=>JSON.stringify("[Circular]"))}!x.isString(e)&&(e!=null&&e.toString)&&(e=e.toString())}if(!x.isString(e))return null;let n=0;for(let s=0;s<e.length;++s){let i=e.charCodeAt(s);n=(n<<5)-n+i,n&=n}return n}function Tt(e){return x.isString(e)?e.charAt(0).toUpperCase()+e.slice(1):""}async function Ct(e,t,n){return new Promise((s,i)=>{let c=0;function o(){e().then(s).catch(r=>{c+=1,c<t?setTimeout(o,n):i(r)})}o()})}function Rt(e){return new Promise(t=>setTimeout(t,e))}var Et=(()=>{let e="1",t="",n=/^1?$|^(11+?)\1+$/;function s(i){let c=t.padEnd(i,e);return!n.test(c)}return s})(),V={hashCode:wt,isPrime:Et,capitalize:Tt,retry:Ct,sleep:Rt};var ge=[[/(quiz)$/i,"$1zes"],[/^(oxen)$/i,"$1"],[/^(ox)$/i,"$1en"],[/([ml])ice$/i,"$1ice"],[/([ml])ouse$/i,"$1ice"],[/(passer)s?by$/i,"$1sby"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/([lr])f$/i,"$1ves"],[/([^f])fe$/i,"$1ves"],[/sis$/i,"ses"],[/([ti])a$/i,"$1a"],[/([ti])um$/i,"$1a"],[/(buffal|potat|tomat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status)$/i,"$1es"],[/(octop|vir)i$/i,"$1i"],[/(octop|vir)us$/i,"$1i"],[/^(ax|test)is$/i,"$1es"],[/s$/i,"s"],[/$/i,"s"]],ye=[[/(database)s$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/(passer)sby$/i,"$1by"],[/^(ox)en/i,"$1"],[/(alias|status)(es)?$/i,"$1"],[/(octop|vir)(us|i)$/i,"$1us"],[/^(a)x[ie]s$/i,"$1xis"],[/(cris|test)(is|es)$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)(es)?$/i,"$1"],[/([ml])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(t)he(sis|ses)$/i,"$1hesis"],[/(s)ynop(sis|ses)$/i,"$1ynopsis"],[/(p)rogno(sis|ses)$/i,"$1rognosis"],[/(p)arenthe(sis|ses)$/i,"$1arenthesis"],[/(d)iagno(sis|ses)$/i,"$1iagnosis"],[/(b)a(sis|ses)$/i,"$1asis"],[/(a)naly(sis|ses)$/i,"$1nalysis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(ss)$/i,"$1"],[/s$/i,""]],be=new Set(["equipment","fish","information","jeans","money","rice","series","sheep","species"]),k=(e,t)=>{let n=o=>Array.from(o).map(r=>"["+r+r.toUpperCase()+"]").join(""),s=(o,r,d)=>{o.splice(r,0,[new RegExp(d[0],"i"),d[1]])},i=(o,r)=>{s(ge,o,r)},c=(o,r)=>{s(ye,o,r)};e[0].toUpperCase()===t[0].toUpperCase()?(i(0,[`(${e[0]})${e.slice(1)}$`,"$1"+t.slice(1)]),i(0,[`(${t[0]})${t.slice(1)}$`,"$1"+t.slice(1)]),c(0,[`(${t[0]})${t.slice(1)}$`,"$1"+e.slice(1)])):(i(0,[`${e[0].toUpperCase()}${n(e.slice(1))}$`,t[0].toUpperCase()+t.slice(1)]),i(0,[`${e[0].toLowerCase()}${n(e.slice(1))}$`,t[0].toLowerCase()+t.slice(1)]),i(0,[`${t[0].toUpperCase()}${n(t.slice(1))}$`,t[0].toUpperCase()+t.slice(1)]),i(0,[`${t[0].toLowerCase()}${n(t.slice(1))}$`,t[0].toLowerCase()+t.slice(1)]),c(0,[`${t[0].toUpperCase()}${n(t.slice(1))}$`,e[0].toUpperCase()+e.slice(1)]),c(0,[`${t[0].toLowerCase()}${n(t.slice(1))}$`,e[0].toLowerCase()+e.slice(1)]))},kt=(e,t=!0)=>{let n=ze(e).replace(/-/," ").replace(/(?:^\w|[A-Z]|\b\w)/g,(s,i)=>i===0?s.toLowerCase():s.toUpperCase()).replace(/\s+/g,"");return t?n.charAt(0).toUpperCase()+n.slice(1):n},ze=e=>e.replace(/_/g,"-"),Me=e=>(e=e.replace(/_id$/i,""),e=e.replace(/_/g," "),e=e.replace(/([a-z\d]*)/g,t=>t.toLowerCase()),e=e.replace(/^\w/,t=>t.toUpperCase()),e),Ue=e=>{e=typeof e=="number"?e:parseInt(e,10);let t=Math.abs(e);if([11,12,13].includes(t%100))return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},At=e=>e.toString()+Ue(e),_t=(e,t="-")=>{let s=qe(e).replace(/[^\d\w-]+/gmi,t);if(t!==""){for(;s.startsWith(t);)s=s.slice(t.length);for(;s.endsWith(t);)s=s.slice(0,s.length-t.length)}return s.toLowerCase()},Ve=e=>{let t=/[A-Z]/.test(e.charAt(0)),n=/[A-Za-z]$/.test(e);if(!e||be.has(e.toLowerCase())||!n)return e;for(let s of ge){let i=s[0],c=s[1];if(i.test(e)){let o=e.replace(i,c);return t?V.capitalize(o):o}}return e},St=e=>{let t=/[A-Z]/.test(e.charAt(0));for(let n of be)if(new RegExp(`\\b${n}\\b`,"i").test(e))return e;for(let n of ye){let s=n[0],i=n[1];if(s.test(e)){let c=e.replace(s,i);return t?V.capitalize(c):c}}return e},Bt=e=>Ve($e(e)),Nt=e=>Me($e(e)).split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "),qe=e=>e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").trim(),$e=e=>{let t=e.replace(/([a-z\d])([A-Z])/g,"$1_$2");return t=t.replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2"),t=t.replace(/-/g,"_"),t.toLowerCase()};k("person","people");k("man","men");k("human","humans");k("child","children");k("sex","sexes");k("move","moves");k("cow","kine");k("zombie","zombies");k("slave","slaves");k("this","this");k("flour","flour");k("milk","milk");k("water","water");k("reserve","reserves");k("gas","gasses");k("bias","biases");k("atlas","atlases");k("goose","geese");k("pasta","pastas");k("slice","slices");k("cactus","cacti");var q={camelize:kt,dasherize:ze,humanize:Me,ordinal:Ue,ordinalize:At,parameterize:_t,pluralize:Ve,singularize:St,tableize:Bt,titleize:Nt,transliterate:qe,underscore:$e,UNCOUNTABLES:be,PLURALS:ge,SINGULARS:ye};var L="$B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B",P={0:"PREC0",1:"PREC1",2:"COUNT_PRECS",PREC0:0,PREC1:1,COUNT_PRECS:2};Object.freeze(P);Object.seal(P);var J={"+":{func:(e,t)=>[e,t].every(x.isNumber)?e+t:`${e}+${t}`,prec:P.PREC0},"-":{func:(e,t)=>[e,t].every(x.isNumber)?e-t:`${e}-${t}`,prec:P.PREC0},"*":{func:(e,t)=>[e,t].every(x.isNumber)?e*t:`${e}*${t}`,prec:P.PREC1},"/":{func:(e,t)=>[e,t].every(x.isNumber)?e/t:`${e}/${t}`,prec:P.PREC1},"%":{func:(e,t)=>[e,t].every(x.isNumber)?e%t:`${e}%${t}`,prec:P.PREC1}},H={"-":e=>-e},ee=class{constructor(t,n=[],s="(),",i=!1){this.src=t;this.hist=n;this.syntax=s;this.alreadyCrashed=i}nextToken(){let t=this.next();return t!==null&&this.unnext(t),t}lastToken(){return this.hist[this.hist.length-1]}unnext(t){this.src=t+this.src,this.hist.pop()}next(){if(this.src=this.src.trimStart(),this.src.length===0)return null;let t=r=>r in J||r in H||this.syntax.includes(r),n=this.src.startsWith('"'),s=this.src.startsWith("'"),i=n||s,c=this.src.indexOf(n?'"':"'",1);if(i&&c>0){let r=this.src.slice(0,c+1);return this.src=this.src.slice(c+1),this.hist.push(r),r}if(t(this.src[0])){let r=this.src[0];return this.src=this.src.slice(1),this.hist.push(r),r}for(let r=0;r<this.src.length;++r)if(t(this.src[r])||this.src[r]===" "){let d=this.src.slice(0,r);return this.src=this.src.slice(r),this.hist.push(d),d}let o=this.src;return this.hist.push(o),this.src="",o}hasNext(){let t=this.next(),n=t!==null;return n&&this.unnext(t),n}spaceAfterToken(){let t=this.next(),n=t!==null;if(n&&this.src){let s=this.src.length-this.src.trimStart().length;if(s>0)return this.unnext(t)," ".repeat(s)}return n&&this.unnext(t),""}},Le=e=>{let t=e.next();if(t!==null)if(t in H){let n=O(e);return{kind:"unary_op",payload:{op:t,operand:n}}}else if(t==="("){let n=O(e);if(t=e.next(),t===L&&(t=e.next()),t!==")")throw new Error("Expected ')' but got '"+t+"'");return n}else if(t===")"){if(!e.alreadyCrashed)return e.alreadyCrashed=!0,e.unnext(","+L+")"),Le(e);throw new Error("No primary expression starts with ')'")}else{let n=e.next();if(n==="("){let s=[];if(n=e.next(),n===")")return{kind:"funcall",payload:{name:t,args:s}};if(n===null)throw Error("Unexpected end of input");for(e.unnext(n),s.push(O(e)),n=e.next(),n===L&&(n=e.next());n===",";)s.push(O(e)),n=e.next(),n===L&&(n=e.next());return n===L&&(n=e.next()),n!==")"?{kind:"symbol",payload:{value:t}}:{kind:"funcall",payload:{name:t,args:s}}}else return n!==null&&e.unnext(n),{kind:"symbol",payload:{value:t}}}else throw new Error("Expected primary expression but reached the end of the input")},O=(e,t=P.PREC0)=>{if(t>=P.COUNT_PRECS)return Le(e);let n=O(e,t+1),s=e.next();if(s!==null)if(s in J&&J[s].prec===t){let i=O(e,t);return{kind:"binary_op",payload:{op:s,lhs:n,rhs:i}}}else e.unnext(s);return n},z=(e,t={},n=[])=>{console.assert(x.isObject(e));function s(o){n.push({timestamp:new Date,message:o})}let i=(o,r)=>Q.topSimilar(r,[...Object.keys(t[o]||{})],d=>d,5).map(d=>d.replace(/[\u00A0-\u9999<>&]/g,$=>"&#"+$.charCodeAt(0)+";")),c=(o,r)=>r>1?q.pluralize(o):q.singularize(o);switch(e.kind){case"symbol":{let r=e.payload.value,d=Number(r);if(isNaN(d)){if(t.vars&&r&&r in t.vars)return t.vars[r];if(r!=null&&r.startsWith("$")&&!/^\$\d/.test(r)){let $=i("vars",r),p=c("variable",$.length),f=$.length>1?"are":"is",E=` The most similar ${p} ${f} ${$.join(", ")}`;s("Unknown variable '"+r+"'."+($.length>0?E:"")),r in(t.funcs||{})&&s("'"+r+"' is defined as a function.")}return r}else return d}case"unary_op":{let o=e.payload,r=o==null?void 0:o.op,d=o==null?void 0:o.operand;if(r&&r in H){if(d===void 0)throw new Error("operand needs to be an object not undefined");return H[r](z(d,t))}throw new Error("Unknown unary operator '"+o.op+"'")}case"binary_op":{let o=e.payload,r=o==null?void 0:o.op,d=o==null?void 0:o.lhs,$=o==null?void 0:o.rhs;if(r&&r in J){if(d===void 0)throw new Error(`lhs operand needs to be an object not undefined: lhs=${d} :: rhs=${$}`);if($===void 0)throw new Error(`rhs operand needs to be an object not undefined: lhs=${d} :: rhs=${$}`);return J[r].func(z(d,t),z($,t))}throw new Error("Unknown binary operator '"+r+"'")}case"funcall":{let o=e.payload,r=o.name,d=o.args;if(t.funcs&&r!==void 0&&d!==void 0&&r in t.funcs){let p;return(p=t.funcs)[r].apply(p,d.map(f=>z(f,t)))}if(r!=null&&r.startsWith("$")&&!/^\$\d/.test(r)){let p=i("funcs",r),f=c("function",p.length),E=p.length>1?"are":"is",l=` The most similar ${f} ${E} ${p.join(", ")}`;s("Unknown function '"+r+"'."+(p.length>0?l:"")),r in(t.vars||{})&&s("'"+r+"' is defined as a variable.")}let $=d==null?void 0:d.map(p=>{var f;return(f=p==null?void 0:p.payload)==null?void 0:f.value}).map(p=>x.isObject(p)?JSON.stringify(p):p).join(", ");return`${r}(${$||""})`}default:throw new Error("Unexpected AST node '"+e.kind+"'")}};var Pt=e=>(x.isString(e)&&(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))&&(e=e.substring(1,e.length-1)),e),Wt=e=>{let t=e==null?void 0:e.funcs;if(t&&x.isObject(t)){let n=S({},t),s={};Object.keys(n).forEach(i=>{s[i]=(...c)=>(c=c.map(Pt),n[i](...c))}),e.funcs=s}return e},Ge=(e,t={})=>{let n=[];return{result:e.split(`
`).map((i,c)=>{try{let o=Je(i,t);return n.push(...o.warnings.map(r=>S({lineNumber:c+1,level:"WARN"},r))),o.result}catch(o){if(o.message.toLowerCase().startsWith("no primary expression starts with ')'")||o.message.startsWith("Expected ')' but got '")){let d=i.replace(/(\W)\(([^)]+)\)/g,"$1 <parentheses> $2 </parentheses>");try{let $=Je(d,t);return n.push(...$.warnings.map(p=>S({lineNumber:c+1,level:"WARN"},p))),$.result.replace(/<parentheses> /gi,"(").replace(/ <\/parentheses>/gi,")")}catch($){}}let r="";o&&(r=o.message,!r&&o.toString&&(r=o.toString())),r||(r=`${o}`),n.push({lineNumber:c+1,level:"ERROR",message:r,error:o,timestamp:new Date})}return i}).join(`
`),logs:n}},Je=(e,t={})=>{var o;let n=[],s=Wt(S({},t)),i=new ee(e),c=[];for(;i.hasNext();){let r=i.spaceAfterToken(),d="",$=O(i),p=$.payload.value,f=[];if(p&&x.isString(p)&&p.startsWith("$")){d=r;let b=p.endsWith("."),v=p.endsWith("!"),C=p.endsWith("("),w=p.endsWith(")"),m=p.endsWith(">"),W=p.endsWith("<");for(;p&&(b||v||C||w||m||W);)p=p.substring(0,p.length-1),b?f.push("."):v?f.push("!"):C?f.push("("):w?f.push(")"):m?f.push(">"):W&&f.push("<"),b=p.endsWith("."),v=p.endsWith("!"),C=p.endsWith("("),w=p.endsWith(")"),m=p.endsWith(">"),W=p.endsWith("<");f.length!==0&&($.payload.value=p)}let E=$.kind==="funcall",l=$.kind==="symbol",g=z($,s,n),B=f.join("");c.push(g+B+d);let u=(o=i.lastToken())==null?void 0:o.startsWith("$"),h=c.lastIndexOf(",")-1;i.lastToken()===","&&c[h]===" "&&c.splice(h,1),E&&!["!",".",","].includes(i.nextToken())&&c.push(" "),E||l&&u||c.push(" ")}return{result:c.join("").trim(),warnings:n}},G=class{constructor(t={includeBuiltIns:!0},n={},s=[]){this.options=t;this.ctx=n;this.logs=s;this.options.includeBuiltIns&&(this.ctx.funcs=S(S({},this.builtinFunctions()),this.ctx.funcs||{}))}builtinFunctions(){let t=a=>Math.abs(a),n=(...a)=>a.map(i).every(y=>y),s=(...a)=>a.map(i).some(y=>y),i=a=>x.isValidBoolean(a)?x.isTrue(a):!!a&&Te(a),c=a=>parseFloat(a),o=a=>{if(u(a))return`${a}`;if(x.isObject(a))try{a=JSON.stringify(a)}catch(y){let T=[];a=JSON.stringify(a,(_,A)=>{if(typeof A=="bigint")return A.toString();if(typeof A=="object"&&A!==null){if(T.includes(A))return"[Circular]";T.push(A)}return A}).replace(/"\[Circular]"/g,()=>JSON.stringify("[Circular]"))}return x.isString(a)||(a=a.toString?a.toString():`${a}`),a},r=(a,...y)=>(!x.isString(a)||y.length===0||y.map(o).forEach((T,R)=>{let _=`{${R}}`;for(;a.includes(_);)a=a.replace(_,T)}),a),d=(a,y,T)=>i(a)?y:T,$=(a,y)=>parseInt(a,y||10),p=(a,...y)=>{let T=we(a);return y.map(o).some(R=>T===R)},f=a=>p(a,"string"),E=a=>p(a,"number","bigint"),l=a=>p(a,"undefined"),g=a=>p(a,"object"),B=a=>p(a,"boolean"),u=a=>a==null,h=(a,y,T)=>(a=o(a),y=o(y),a.endsWith(y,T)),b=(a,y,T)=>o(a).startsWith(y,T),v=a=>o(a).toLowerCase(),C=a=>o(a).toUpperCase(),w=a=>o(a).length,m=(...a)=>Math.max(...a.map(o).map(c).filter(y=>!isNaN(y))),W=(...a)=>Math.min(...a.map(o).map(c).filter(y=>!isNaN(y))),te=(a,y)=>Math.pow(a,y),j=a=>Math.round(a),Z=(a,...y)=>{try{let R=Math[a],_=x.isFunction(R)?R(...y):R;if(_)return _}catch(R){this.logs.push({level:"ERROR",error:R,message:R.message||`${R}`,lineNumber:NaN,timestamp:new Date})}let T=y.join(", ");return this.logs.push({level:"WARN",lineNumber:NaN,message:`Couldn't resolve Math.${a}${T?"("+T+")":""}`,timestamp:new Date}),`$math('${a}'${T?", "+T:""})`},Xe=(...a)=>a.map(o).join(""),Qe=(a,y,T)=>{let R=o(a);return(y===void 0||!x.isNumber(y)||y<0)&&(y=0),(T===void 0||!x.isNumber(y)||T>R.length)&&(T=R.length),R.substring(y,T)},we=a=>typeof a,He=(a,...y)=>{let T=a;return y.filter(x.isString).forEach(R=>{let _=R.split(".");T[_[0]]||(_=[R]),_.filter(A=>!!A).forEach(A=>{T&&A&&T[A]&&(T=T[A])})}),T},et=(a,...y)=>{let T=a,R=!0;return y.filter(x.isString).forEach(_=>{let A=_.split(".");T[A[0]]||(A=[_]),A.filter(M=>!!M).forEach(M=>{T&&M&&T[M]?T=T[M]:R=!1})}),R},Te=a=>!o(a).startsWith("$");return{$if:d,$abs:t,$all:n,$any:s,$bool:i,$float:c,$str:o,$format:r,$int:$,$isnil:u,$isinstance:p,$tisstring:f,$tisnumber:E,$tisboolean:B,$tisundefined:l,$tisobject:g,$len:w,$max:m,$min:W,$pow:te,$round:j,$substring:Qe,$type:we,$math:Z,$getattr:He,$concat:Xe,$hasattr:et,$isset:Te,$includes:(a,y)=>{if(a){if(a.includes&&x.isFunction(a.includes))return a.includes(y);if(a.has&&x.isFunction(a.has))return a.has(y)}return!1},$endsWith:h,$startsWith:b,$lower:v,$upper:C,$now:()=>new Date}}fixName(t){return t.startsWith("$")?t:"$"+t}fnExists(t){return t=this.fixName(t),t in(this.ctx.funcs||{})}varExists(t){return t=this.fixName(t),t in(this.ctx.vars||{})}addVar(t,n){t=this.fixName(t),this.ctx.vars=this.ctx.vars||{},this.ctx.vars[t]=n}addFunction(t,n){t=this.fixName(t),this.ctx.funcs=this.ctx.funcs||{},this.ctx.funcs[t]=n}clearLogs(){this.logs=[]}parse(t){let n=Ge(t,this.ctx||{});return this.logs.push(...n.logs),n}},Ot=e=>{if(x.isNumeric(e))return parseFloat(e);if(x.isValidBoolean(e))return x.isTrue(e);if(F.parse(e)!==null)return new Date(e);if(e==="undefined")return;if(e==="null")return null;try{return JSON.parse(e)}catch(t){return e}},jt=(e,t)=>{let n=Ge(e,t||{});return{result:Ot(n.result),logs:n.logs}},yn=new G({includeBuiltIns:!1}).builtinFunctions,ve={SentenceParser:G,TemplateParser:G,lval:jt};var Ft=(()=>{let e={english:new Set(["a","about","above","after","again","against","ain","all","am","an","and","any","are","aren","aren't","as","at","be","because","been","before","being","below","between","both","but","by","can","couldn","couldn't","d","did","didn","didn't","do","does","doesn","doesn't","doing","don","don't","down","during","each","few","for","from","further","had","hadn","hadn't","has","hasn","hasn't","have","haven","haven't","having","he","her","here","hers","herself","him","himself","his","how","i","if","in","into","is","isn","isn't","it","it's","its","itself","just","ll","m","ma","me","mightn","mightn't","more","most","mustn","mustn't","my","myself","needn","needn't","no","nor","not","now","o","of","off","on","once","only","or","other","our","ours","ourselves","out","over","own","re","s","same","shan","shan't","she","she's","should","should've","shouldn","shouldn't","so","some","such","t","than","that","that'll","the","their","theirs","them","themselves","then","there","these","they","this","those","through","to","too","under","until","up","ve","very","was","wasn","wasn't","we","were","weren","weren't","what","when","where","which","while","who","whom","why","will","with","won","won't","wouldn","wouldn't","y","you","you'd","you'll","you're","you've","your","yours","yourself","yourselves"])};function t(s,i="english"){return e[i].has(s.replace(/[^\w\d']/gi,"").toLowerCase())}function n(s,i="english"){return s.trim().split(/\s+/g).filter(r=>!t(r,i)).join(" ")}return{isStopWord:t,removeStopWords:n}})(),Ze=Ft;function It(){let e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",s="[aeiouy]",i=n+"[^aeiouy]*",c=s+"[aeiou]*",o="^("+i+")?"+c+i,r="^("+i+")?"+c+i+"("+c+")?$",d="^("+i+")?"+c+i+c+i,$="^("+i+")?"+s;function p(l,g){return l.exec(g)}function f(l,g){return l.test(g)}function E(l){let g,B,u,h,b,v;if(l.length<3)return l;let C=l.slice(),w=l.substring(0,1);if(w==="y"&&(l=w.toUpperCase()+l.substring(1)),u=/^(.+?)(ss|i)es?$/,h=/^(.+?)([^s])s$/,f(u,l)?(b=/ies$/,f(b,l)?l=l.replace(u,"$1y"):l=l.replace(u,"$1$2")):f(h,l)&&(l=l.replace(h,"$1$2")),u=/^(.+?)eed$/,h=/^(.+?)(ed|ing)$/,b=/^(.+?)(ly)$/,v=/^(.+?)([^s]*s)$/,f(u,l)){let m=p(u,l);m&&(u=new RegExp(o),f(u,m[1])&&(u=/.$/,l=l.replace(u,"")))}else if(f(h,l)){let m=p(h,l);m&&(g=m[1],h=new RegExp($),f(h,g)&&(l=g,h=/(at|bl|iz)$/,b=new RegExp("([^aeiouylsz])\\1$"),v=new RegExp("^"+i+s+"[^aeiouwxy]$"),f(h,l)?l=l+"e":f(b,l)?(u=/.$/,l=l.replace(u,"")):f(v,l)&&(l=l+"e")))}else if(f(b,l)){let m=p(b,l);m&&(g=m[1],u=new RegExp($),f(u,g)&&(l=g))}if(u=/^(.+?)y$/,h=/(yed|ies)$/,f(u,l)&&!f(h,C)){let m=p(u,l);m&&(g=m[1],u=new RegExp($),f(u,g)&&(l=g+"i"))}if(u=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,f(u,l)){let m=p(u,l);m&&(g=m[1],B=m[2],u=new RegExp(o),f(u,g)&&(l=g+e[B]))}if(u=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,f(u,l)){let m=p(u,l);m&&(g=m[1],B=m[2],u=new RegExp(o),f(u,g)&&(l=g+t[B]))}if(u=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,h=/^(.+?)([st])(ion)$/,f(u,l)){let m=p(u,l);m&&(g=m[1],u=new RegExp(d),f(u,g)&&(l=g))}else if(f(h,l)){let m=p(h,l);m&&(g=m[1]+m[2],h=new RegExp(d),f(h,g)&&(l=g))}if(u=/^(.+?)e$/,f(u,l)){let m=p(u,l);m&&(g=m[1],u=new RegExp(d),h=new RegExp(r),b=new RegExp("^"+i+s+"[^aeiouwxy]$"),(f(u,g)||f(h,g)&&!f(b,g))&&(l=g))}return u=/ll$/,h=new RegExp(d),f(u,l)&&f(h,l)&&(u=/.$/,l=l.replace(u,"")),w==="y"&&(l="y"+l.substring(1)),l}return E}var Ye=It();var xe={CC:{title:"Coordinating conjunction",description:"A word that connects words, phrases, or clauses of equal rank.",examples:["and","but","or"]},CD:{title:"Cardinal number",description:"A word that denotes quantity.",examples:["one","two","three"]},DT:{title:"Determiner",description:"A word that introduces a noun and specifies it as known or unknown, and often specifies quantity.",examples:["a","an","the"]},EX:{title:"Existential there",description:"A word used to introduce a sentence in which the existence of something is asserted.",examples:["There"]},FW:{title:"Foreign word",description:"A word or phrase that is not native to the language but used in certain contexts.",examples:["rendezvous","hacienda","sushi"]},IN:{title:"Preposition or subordinating conjunction",description:"A word that relates the noun or pronoun to another word in the sentence or introduces a subordinate clause.",examples:["in","on","because"]},JJ:{title:"Adjective",description:"A word that describes or modifies a noun or pronoun.",examples:["happy","green","loud"]},JJR:{title:"Adjective, comparative",description:"An adjective that compares two things.",examples:["happier","greener","louder"]},JJS:{title:"Adjective, superlative",description:"An adjective that describes the highest degree of something.",examples:["happiest","greenest","loudest"]},LS:{title:"List item marker",description:"A word or symbol that denotes an item in a list.",examples:["1.","a)","*"]},MD:{title:"Modal",description:"A verb that is used with another verb to express necessity, possibility, intention, or ability.",examples:["can","will","must"]},NN:{title:"Noun, singular or mass",description:"A word that represents a person, place, thing, or idea.",examples:["cat","city","love"]},NNS:{title:"Noun, plural",description:"A word that represents multiple persons, places, or things.",examples:["cats","cities","loves"]},NNP:{title:"Proper noun, singular",description:"A name used for an individual person, place, or organization, spelled with an initial capital letter.",examples:["Alice","Paris","Apple"]},NNPS:{title:"Proper noun, plural",description:"Names used for a specific group of people, places, or things, spelled with an initial capital letter.",examples:["Americans","Alps","Aristotles"]},PDT:{title:"Predeterminer",description:"A word that is placed before a determiner to modify the noun that follows.",examples:["all","both","half"]},POS:{title:"Possessive ending",description:"A suffix added to nouns to indicate possession.",examples:["'s","'"]},PRP:{title:"Personal pronoun",description:"A word that substitutes for a noun or noun phrase and represents people or things.",examples:["I","you","he","she","it"]},PRP$:{title:"Possessive pronoun",description:"A pronoun that shows ownership.",examples:["my","your","his","her","its"]},RB:{title:"Adverb",description:"A word that modifies verbs, adjectives, or other adverbs, expressing manner, place, time, or degree.",examples:["quickly","there","very"]},RBR:{title:"Adverb, comparative",description:"An adverb that compares two actions.",examples:["quicker","more quickly","less quickly"]},RBS:{title:"Adverb, superlative",description:"An adverb that describes the highest degree of an action.",examples:["quickest","most quickly"]},RP:{title:"Particle",description:"A word that is used with verbs to create phrasal verbs.",examples:["up","out","on"]},SYM:{title:"Symbol",description:"A character used as a conventional representation of an object, function, or process.",examples:["&","%","$"]},TO:{title:"Preposition/Infinitival to",description:"A preposition or a part of an infinitive verb.",examples:["to the store","to run"]},UH:{title:"Interjection",description:"An exclamation, especially as a part of speech, e.g., ah! or dear me!.",examples:["oh","wow","uh"]},VB:{title:"Verb, base form",description:"The basic form of a verb from which other forms are derived.",examples:["be","have","do"]},VBD:{title:"Verb, past tense",description:"A verb form that indicates actions or states in the past.",examples:["was","had","did"]},VBG:{title:"Verb, gerund or present participle",description:"A verb form that ends in -ing and functions as a noun or modifies nouns.",examples:["running","having","doing"]},VBN:{title:"Verb, past participle",description:"A verb form that typically ends in -ed or -en and is used to form passive verb tenses or adjectives.",examples:["eaten","written","done"]},VBP:{title:"Verb, non-3rd person singular present",description:"A verb form that does not agree with third-person singular subjects in the present tense.",examples:["am","have","run"]},VBZ:{title:"Verb, 3rd person singular present",description:"A verb form that agrees with third-person singular subjects in the present tense.",examples:["is","has","runs"]},WDT:{title:"Wh-determiner",description:"A determiner that introduces a relative clause, typically referring back to something previously mentioned.",examples:["which","that","what"]},WP:{title:"Wh-pronoun",description:"A pronoun that introduces a relative clause, referring back to something previously mentioned.",examples:["who","whom","whose"]},WP$:{title:"Possessive wh-pronoun",description:"A pronoun that shows ownership and introduces a relative clause.",examples:["whose"]},WRB:{title:"Wh-adverb",description:"An adverb that introduces a question or relative clause.",examples:["where","when","why"]}};Object.seal(xe);Object.freeze(xe);var Ke=K(S({},Ze),{stemmer:Ye,PART_OF_SPEECH_MAP:xe});var Dt=S({check:x,parser:ve,template:ve,inflection:q,utils:V,date:F,fuzzy:Q,array:Fe,diff:De,nlp:Ke},Ae);return at(zt);})();
//# sourceMappingURL=clasico-utils.js.map
