"use strict";var Clasico=(()=>{var J=Object.defineProperty;var Ze=Object.getOwnPropertyDescriptor;var Ye=Object.getOwnPropertyNames,Ce=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Ee=(e,t,n)=>t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))_e.call(t,n)&&Ee(e,n,t[n]);if(Ce)for(var n of Ce(t))Ke.call(t,n)&&Ee(e,n,t[n]);return e};var X=(e,t)=>{for(var n in t)J(e,n,{get:t[n],enumerable:!0})},Le=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Ye(t))!_e.call(e,r)&&r!==n&&J(e,r,{get:()=>t[r],enumerable:!(s=Ze(t,r))||s.enumerable});return e};var Qe=e=>Le(J({},"__esModule",{value:!0}),e);var Bt={};X(Bt,{default:()=>vt});var ve={};var le={};X(le,{BisectArray:()=>R,ReverseCompareArray:()=>ue,ReverseNumberArray:()=>re,ReverseSortedArray:()=>M,ReverseStringArray:()=>oe,SortedArray:()=>se,SortedCompareArray:()=>ce,SortedNumberArray:()=>ie,SortedStringArray:()=>ae});var Xe=(e,t)=>(e.setSeconds(e.getSeconds()-t),e),He=e=>{let t=e.getDay();return t===0||t===6},et=(e,t,n)=>e>=t&&e<=n,tt=e=>{try{let t=new Date(e);if(!isNaN(t.getTime()))return t}catch(t){}return null},Z={subtractSeconds:Xe,parse:tt,isWeekend:He,between:et};var H=new Boolean(!0),Be=new Boolean(!1),nt=[!0,H,!1,Be],ee=e=>typeof e=="number"||e instanceof Number||typeof e=="bigint"||e instanceof BigInt,P=e=>typeof e=="string"||e instanceof String,te=e=>typeof e=="boolean"||e instanceof Boolean||nt.includes(e),Te=e=>typeof e=="function"||e instanceof Function,st=e=>D(e)?!1:typeof e=="object",D=e=>e==null,xe=e=>Array.isArray(e)||e instanceof Array||Object.prototype.toString.call(e)==="[object Array]",we=e=>e instanceof Set||Object.prototype.toString.call(e)==="[object Set]",rt=e=>D(e)?!1:Te(e[Symbol.iterator]),it=e=>ee(e)?!0:P(e)?!isNaN(e)&&!isNaN(parseFloat(e)):!1,ne=e=>{if(te(e))return!0;let t=ee(e),n=P(e);if(t||n){let s=["true","false",1,0,"1","0",H,Be,!0,!1];if(s.includes(e))return!0;if(n){e=e.trim();let r=Math.max(...s.map(o=>o.toString().length));if(e.length<=r&&s.includes(e.toLowerCase()))return!0}}return!1},Se=e=>{if(e&&e.toString&&e.toString()==="true")return!0;if(ne(e)){let t=[!0,"true","1",1,H];if(t.includes(e))return!0;if(P(e)){e=e.trim();let n=Math.max(...t.map(s=>s.toString().length));if(e.length<=n&&t.includes(e.toLowerCase()))return!0}}return!1},ot=e=>e&&e.toString&&e.toString()==="false"?!0:ne(e)?!Se(e):!1,at=e=>D(e)||P(e)&&(e=e.trim(),!e)||te(e)||xe(e)||we(e)?!1:!!Z.parse(e),ut=(e,t=!1)=>D(e)?!1:!!(e instanceof Error||t&&e&&e.stack&&e.message),p={isNil:D,isNumber:ee,isString:P,isBoolean:te,isFunction:Te,isObject:st,isNumeric:it,isValidBoolean:ne,isTrue:Se,isFalse:ot,isArray:xe,isSet:we,isIterable:rt,isDate:at,isError:ut};var R=class extends Array{constructor(n){let s=n.items;super(...s);this.opts=n;this.isValidCmp()?this.sort(this.opts.cmp):this.sort((r,o)=>this.opts.key(r)-this.opts.key(o)),this.opts.asReversed&&this.reverse()}pop(){return this.isReversed()?super.pop():super.shift()}push(...n){for(let s of n){let r=this.binarySearch(s);this.splice(r,0,s)}return this.length}binarySearch(n){let s=0,r=this.length-1;for(;s<=r;){let o=Math.floor((s+r)/2);if(this.shouldSwap(this[o],n))s=o+1;else if(this.shouldSwap(n,this[o]))r=o-1;else return o}return s}shouldSwap(n,s){if(this.opts.cmp&&this.isValidCmp())return this.isReversed()?this.opts.cmp(s,n)<=0:this.opts.cmp(n,s)<=0;let r=this.opts.key(n),o=this.opts.key(s);return this.isReversed()?o-r<=0:r-o<=0}isValidCmp(){return this.opts.cmp&&p.isFunction(this.opts.cmp)}isReversed(){return this.opts.asReversed}},M=class extends R{constructor(t,...n){super({key:t,asReversed:!0,items:n})}},se=class extends R{constructor(t,...n){super({key:t,asReversed:!1,items:n})}},re=class extends R{constructor(...t){super({key:n=>n,asReversed:!0,items:t})}},ie=class extends R{constructor(...t){super({key:n=>n,asReversed:!1,items:t})}},oe=class extends R{constructor(...t){super({key:()=>0,cmp:(n,s)=>n.localeCompare(s),asReversed:!0,items:t})}},ae=class extends R{constructor(...t){super({key:()=>0,cmp:(n,s)=>n.localeCompare(s),asReversed:!0,items:t})}},ue=class extends R{constructor(t,...n){super({key:()=>0,cmp:t,asReversed:!0,items:n})}},ce=class extends R{constructor(t,...n){super({key:()=>0,cmp:t,asReversed:!0,items:n})}};var Ne=k({},le);function Re(e,t,n){function s($,c,y){let h=new Map;for(let _=c;_<=y;_++){let g=$[_];h.has(g)?(h.get(g).count++,h.get(g).index=_):h.set(g,{count:1,index:_})}return h.forEach((_,g,m)=>{_.count!==1?m.delete(g):m.set(g,_.index)}),h}function r($,c,y,h,_,g){let m=s($,c,y),A=s(h,_,g);return m.forEach((Q,j,G)=>{A.has(j)?G.set(j,{indexA:Q,indexB:A.get(j)}):G.delete(j)}),m}function o($){let c=[];$.forEach((h,_,g)=>{let m=0;for(;c[m]&&c[m][c[m].length-1].indexB<h.indexB;)m++;c[m]||(c[m]=[]),0<m&&(h.prev=c[m-1][c[m-1].length-1]),c[m].push(h)});let y=[];if(0<c.length){let h=c.length-1;for(y=[c[h][c[h].length-1]];y[y.length-1].prev;)y.push(y[y.length-1].prev)}return y.reverse()}let u=[],a=0,b=0,S=[],f=[],C=[],B=[];function x($,c){c<0?(S.push(e[$]),f.push(u.length),a++):$<0&&(C.push(t[c]),B.push(u.length),b++),u.push({line:0<=$?e[$]:t[c],aIndex:$,bIndex:c})}function w($,c,y,h){for(;$<=c&&y<=h&&e[$]===t[y];)x($++,y++);let _=c;for(;$<=c&&y<=h&&e[c]===t[h];)c--,h--;let g=r(e,$,c,t,y,h);if(g.size===0){for(;$<=c;)x($++,-1);for(;y<=h;)x(-1,y++)}else W($,c,y,h,g);for(;c<_;)x(++c,++h)}function W($,c,y,h,_){let g=o(_||r(e,$,c,t,y,h));if(g.length===0)w($,c,y,h);else{($<g[0].indexA||y<g[0].indexB)&&w($,g[0].indexA-1,y,g[0].indexB-1);let m;for(m=0;m<g.length-1;m++)w(g[m].indexA,g[m+1].indexA-1,g[m].indexB,g[m+1].indexB-1);(g[m].indexA<=c||g[m].indexB<=h)&&w(g[m].indexA,c,g[m].indexB,h)}}return W(0,e.length-1,0,t.length-1),n?{lines:u,lineCountDeleted:a,lineCountInserted:b,lineCountMoved:0,aMove:S,aMoveIndex:f,bMove:C,bMoveIndex:B}:{lines:u,lineCountDeleted:a,lineCountInserted:b,lineCountMoved:0}}var Ft=Re([],[],!0),ct=(e,t)=>{let n=Re(e.split(`
`),t.split(`
`),!0);return{changes:n.lines.map((r,o)=>{let u="unknown";return r.aIndex>=0&&r.bIndex<0?u="deleted":r.aIndex<0&&r.bIndex>=0?u="inserted":r.aIndex>=0&&r.bIndex>=0&&(u="changed"),{changeType:u,lineNumber:o+1,lineContent:r.line,aIndex:r.aIndex,bIndex:r.bIndex}}),deletedCount:n.lineCountDeleted,insertedCount:n.lineCountInserted,movedCount:n.lineCountInserted,linedMovedFromA:n.aMove||[],linesMovedFromB:n.bMove||[],_diff:n}},ke={compare:ct};var z="$B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B_B",O={0:"PREC0",1:"PREC1",2:"COUNT_PRECS",PREC0:0,PREC1:1,COUNT_PRECS:2};Object.freeze(O);Object.seal(O);var V={"+":{func:(e,t)=>[e,t].every(p.isNumber)?e+t:`${e}+${t}`,prec:O.PREC0},"-":{func:(e,t)=>[e,t].every(p.isNumber)?e-t:`${e}-${t}`,prec:O.PREC0},"*":{func:(e,t)=>[e,t].every(p.isNumber)?e*t:`${e}*${t}`,prec:O.PREC1},"/":{func:(e,t)=>[e,t].every(p.isNumber)?e/t:`${e}/${t}`,prec:O.PREC1},"%":{func:(e,t)=>[e,t].every(p.isNumber)?e%t:`${e}%${t}`,prec:O.PREC1}},Y={"-":e=>-e},K=class{constructor(t,n=[],s="(),",r=!1){this.src=t;this.hist=n;this.syntax=s;this.alreadyCrashed=r}nextToken(){let t=this.next();return t!==null&&this.unnext(t),t}lastToken(){return this.hist[this.hist.length-1]}unnext(t){this.src=t+this.src,this.hist.pop()}next(){if(this.src=this.src.trimStart(),this.src.length==0)return null;let t=a=>a in V||a in Y||this.syntax.includes(a),n=this.src.startsWith('"'),s=this.src.startsWith("'"),r=n||s,o=this.src.indexOf(n?'"':"'",1);if(r&&o>0){let a=this.src.slice(0,o+1);return this.src=this.src.slice(o+1),this.hist.push(a),a}if(t(this.src[0])){let a=this.src[0];return this.src=this.src.slice(1),this.hist.push(a),a}for(let a=0;a<this.src.length;++a)if(t(this.src[a])||this.src[a]==" "){let b=this.src.slice(0,a);return this.src=this.src.slice(a),this.hist.push(b),b}let u=this.src;return this.hist.push(u),this.src="",u}hasNext(){let t=this.next(),n=t!==null;return n&&this.unnext(t),n}spaceAfterToken(){let t=this.next(),n=t!==null;if(n&&this.src){let s=this.src.length-this.src.trimStart().length;if(s>0)return this.unnext(t)," ".repeat(s)}return n&&this.unnext(t),""}},Oe=e=>{let t=e.next();if(t!==null)if(t in Y){let n=F(e);return{kind:"unary_op",payload:{op:t,operand:n}}}else if(t==="("){let n=F(e);if(t=e.next(),t===z&&(t=e.next()),t!==")")throw new Error("Expected ')' but got '"+t+"'");return n}else if(t===")"){if(!e.alreadyCrashed)return e.alreadyCrashed=!0,e.unnext(","+z+")"),Oe(e);throw new Error("No primary expression starts with ')'")}else{let n=e.next();if(n==="("){let s=[];if(n=e.next(),n===")")return{kind:"funcall",payload:{name:t,args:s}};if(n===null)throw Error("Unexpected end of input");for(e.unnext(n),s.push(F(e)),n=e.next(),n===z&&(n=e.next());n==",";)s.push(F(e)),n=e.next(),n===z&&(n=e.next());return n===z&&(n=e.next()),n!==")"?{kind:"symbol",payload:{value:t}}:{kind:"funcall",payload:{name:t,args:s}}}else return n!==null&&e.unnext(n),{kind:"symbol",payload:{value:t}}}else throw new Error("Expected primary expression but reached the end of the input")},F=(e,t=O.PREC0)=>{if(t>=O.COUNT_PRECS)return Oe(e);let n=F(e,t+1),s=e.next();if(s!==null)if(s in V&&V[s].prec==t){let r=F(e,t);return{kind:"binary_op",payload:{op:s,lhs:n,rhs:r}}}else e.unnext(s);return n},U=(e,t={},n=[])=>{switch(console.assert(p.isObject(e)),e.kind){case"symbol":{let r=e.payload.value,o=Number(r);return isNaN(o)?t.vars&&r&&r in t.vars?t.vars[r]:(r!=null&&r.startsWith("$")&&(n.push("Unknown variable '"+r+"'"),r in(t.funcs||{})&&n.push("'"+r+"' is defined as a function.")),r):o}case"unary_op":{let s=e.payload,r=s==null?void 0:s.op,o=s==null?void 0:s.operand;if(r&&r in Y){if(o===void 0)throw new Error("operand needs to be an object not undefined");return Y[r](U(o,t))}throw new Error("Unknown unary operator '"+s.op+"'")}case"binary_op":{let s=e.payload,r=s==null?void 0:s.op,o=s==null?void 0:s.lhs,u=s==null?void 0:s.rhs;if(r&&r in V){if(o===void 0)throw new Error(`lhs operand needs to be an object not undefined: lhs=${o} :: rhs=${u}`);if(u===void 0)throw new Error(`rhs operand needs to be an object not undefined: lhs=${o} :: rhs=${u}`);return V[r].func(U(o,t),U(u,t))}throw new Error("Unknown binary operator '"+r+"'")}case"funcall":{let s=e.payload,r=s.name,o=s.args;if(t.funcs&&r!==void 0&&o!==void 0&&r in t.funcs){let a;return(a=t.funcs)[r].apply(a,o.map(b=>U(b,t)))}r!=null&&r.startsWith("$")&&(n.push("Unknown function '"+r+"'"),r in(t.vars||{})&&n.push("'"+r+"' is defined as a variable."));let u=o==null?void 0:o.map(a=>{var b;return(b=a==null?void 0:a.payload)==null?void 0:b.value}).map(a=>p.isObject(a)?JSON.stringify(a):a).join(", ");return`${r}(${u||""})`}default:throw new Error("Unexpected AST node '"+e.kind+"'")}};var lt=e=>(p.isString(e)&&(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))&&(e=e.substring(1,e.length-1)),e),pt=e=>{let t=e==null?void 0:e.funcs;if(t&&p.isObject(t)){let n=k({},t),s={};Object.keys(n).forEach(r=>{s[r]=(...o)=>(o=o.map(lt),n[r](...o))}),e.funcs=s}return e},ft=(e,t={})=>{let n=[],s=[];return{result:e.split(`
`).map((o,u)=>{try{let a=Ae(o,t);return n.push(...a.warnings.map(b=>({lineNumber:u+1,message:b}))),a.result}catch(a){if(a.message.toLowerCase().startsWith("no primary expression starts with ')'")||a.message.startsWith("Expected ')' but got '")){let f=((C,B,x)=>C.replace(/(\W)\(([^)]+)\)/g,`$1${B}$2${x}`))(o," <parentheses> "," </parentheses>");try{let C=Ae(f,t);return n.push(...C.warnings.map(B=>({lineNumber:u+1,message:B}))),C.result.replace(/<parentheses> /gi,"(").replace(/ <\/parentheses>/gi,")")}catch(C){}}let b="";a&&(b=a.message,!b&&a.toString&&(b=a.toString())),s.push({lineNumber:u+1,message:b,error:a})}return o}).join(`
`),warnings:n,errors:s}},Ae=(e,t={})=>{var u;let n=[],s=pt(k({},t)),r=new K(e),o=[];for(;r.hasNext();){let a=r.spaceAfterToken(),b="",S=F(r),f=S.payload.value,C=[];if(f&&p.isString(f)&&f.startsWith("$")){b=a;let y=f.endsWith("."),h=f.endsWith("!"),_=f.endsWith("("),g=f.endsWith(")"),m=f.endsWith(">"),A=f.endsWith("<");for(;f&&(y||h||_||g||m||A);)f=f.substring(0,f.length-1),y?C.push("."):h?C.push("!"):_?C.push("("):g?C.push(")"):m?C.push(">"):A&&C.push("<"),y=f.endsWith("."),h=f.endsWith("!"),_=f.endsWith("("),g=f.endsWith(")"),m=f.endsWith(">"),A=f.endsWith("<");C.length!==0&&(S.payload.value=f)}let B=S.kind==="funcall",x=S.kind==="symbol",w=U(S,s,n),W=C.join("");o.push(w+W+b);let $=(u=r.lastToken())==null?void 0:u.startsWith("$"),c=o.lastIndexOf(",")-1;r.lastToken()===","&&o[c]===" "&&o.splice(c,1),B&&!["!",".",","].includes(r.nextToken())&&o.push(" "),B||x&&$||o.push(" ")}return{result:o.join("").trim(),warnings:n}},L=class{constructor(t={includeBuiltIns:!0},n={},s=[],r=[]){this.options=t;this.ctx=n;this.errors=s;this.warnings=r;this.options.includeBuiltIns&&(this.ctx.funcs=k(k({},this.builtinFunctions()),this.ctx.funcs||{}))}builtinFunctions(){let t=i=>Math.abs(i),n=(...i)=>i.map(r).every(l=>l===!0),s=(...i)=>i.map(r).some(l=>l===!0),r=i=>p.isValidBoolean(i)?p.isTrue(i):!!i&&be(i),o=i=>parseFloat(i),u=i=>{if($(i))return`${i}`;if(p.isObject(i))try{i=JSON.stringify(i)}catch(l){let d=[];i=JSON.stringify(i,(N,T)=>{if(typeof T=="object"&&T!==null){if(d.includes(T))return"[Circular]";d.push(T)}return T}).replace(/"\[Circular\]"/g,()=>JSON.stringify("[Circular]"))}return p.isString(i)||(i=i.toString?i.toString():`${i}`),i},a=(i,...l)=>(!p.isString(i)||l.length===0||l.map(u).forEach((d,E)=>{let N=`{${E}}`;for(;i.includes(N);)i=i.replace(N,d)}),i),b=(i,l,d)=>r(i)?l:d,S=i=>parseInt(i),f=(i,...l)=>{let d=$e(i);return l.map(u).some(E=>d===E)},C=i=>f(i,"string"),B=i=>f(i,"number","bigint"),x=i=>f(i,"undefined"),w=i=>f(i,"object"),W=i=>f(i,"boolean"),$=i=>i==null,c=(i,l,d)=>(i=u(i),l=u(l),i.endsWith(l,d)),y=(i,l,d)=>u(i).startsWith(l,d),h=i=>u(i).toLowerCase(),_=i=>u(i).toUpperCase(),g=i=>u(i).length,m=(...i)=>Math.max(...i.map(u).map(o).filter(l=>!isNaN(l))),A=(...i)=>Math.min(...i.map(u).map(o).filter(l=>!isNaN(l))),Q=(i,l)=>Math.pow(i,l),j=i=>Math.round(i),G=(i,...l)=>{try{let E=Math[i],N=p.isFunction(E)?E(...l):E;if(N)return N}catch(E){this.errors.push({error:E,message:E.message||`${E}`,lineNumber:NaN})}let d=l.join(", ");return this.warnings.push({lineNumber:NaN,message:`Couldn't resolve Math.${i}${d?"("+d+")":""}`}),`$math('${i}'${d?", "+d:""})`},Ve=(...i)=>i.map(u).join(""),qe=(i,l,d)=>{let E=u(i);return(l===void 0||!p.isNumber(l)||l<0)&&(l=0),(d===void 0||!p.isNumber(l)||d>E.length)&&(d=E.length),E.substring(l,d)},$e=i=>typeof i,Ge=(i,...l)=>{let d=i;return l.filter(p.isString).forEach(E=>{let N=E.split(".");d[N[0]]||(N=[E]),N.filter(T=>!!T).forEach(T=>{d&&T&&d[T]&&(d=d[T])})}),d},Je=(i,...l)=>{let d=i,E=!0;return l.filter(p.isString).forEach(N=>{let T=N.split(".");d[T[0]]||(T=[N]),T.filter(I=>!!I).forEach(I=>{d&&I&&d[I]?d=d[I]:E=!1})}),E},be=i=>!u(i).startsWith("$");return{$if:b,$abs:t,$all:n,$any:s,$bool:r,$float:o,$str:u,$format:a,$int:S,$isnil:$,$isinstance:f,$tisstring:C,$tisnumber:B,$tisboolean:W,$tisundefined:x,$tisobject:w,$len:g,$max:m,$min:A,$pow:Q,$round:j,$substring:qe,$type:$e,$math:G,$getattr:Ge,$concat:Ve,$hasattr:Je,$isset:be,$includes:(i,l)=>{if(i){if(i.includes&&p.isFunction(i.includes))return i.includes(l);if(i.has&&p.isFunction(i.has))return i.has(l)}return!1},$endsWith:c,$startsWith:y,$lower:h,$upper:_,$now:()=>new Date}}fixName(t){return t.startsWith("$")?t:"$"+t}fnExists(t){return t=this.fixName(t),t in(this.ctx.funcs||{})}varExists(t){return t=this.fixName(t),t in(this.ctx.vars||{})}addVar(t,n){t=this.fixName(t),this.ctx.vars=this.ctx.vars||{},this.ctx.vars[t]=n}addFunction(t,n){t=this.fixName(t),this.ctx.funcs=this.ctx.funcs||{},this.ctx.funcs[t]=n}clearWarnings(){this.warnings=[]}clearErrors(){this.errors=[]}parse(t){let n=ft(t,this.ctx||{});return this.errors.push(...n.errors),this.warnings.push(...n.warnings),n}},Dt=new L({includeBuiltIns:!1}).builtinFunctions,Fe={SentenceParser:L};var We=(e,t,n=2)=>{let s=(C,B)=>{C=" ".repeat(B-1)+C.toLowerCase()+" ".repeat(B-1);let x=new Array(C.length-B+1);for(let w=0;w<x.length;w++)x[w]=C.slice(w,w+B);return x};if(!(e!=null&&e.length)||!(t!=null&&t.length))return 0;let r=e.length<t.length?e:t,o=e.length<t.length?t:e,u=s(r,n),a=s(o,n),b=new Set(u),S=a.length,f=0;for(let C of a)b.delete(C)&&f++;return f/S},ht=(e,t,n,s=5,r=2)=>{let o=n(e);s<=0&&(s=5);let u=new M(a=>We(o,n(a),r));return t.forEach(a=>{u.push(a),u.length>s&&u.pop()}),[...u]},je={similarity:We,topSimilar:ht};var dt=(e,t=!0)=>{if(t&&!p.isString(e)){if(p.isSet(e)&&(e=Array.from(e)),p.isObject(e))try{e=JSON.stringify(e)}catch(s){let r=[];e=JSON.stringify(e,(u,a)=>{if(typeof a=="object"&&a!==null){if(r.includes(a))return"[Circular]";r.push(a)}return a}).replace(/"\[Circular\]"/g,()=>JSON.stringify("[Circular]"))}!p.isString(e)&&e.toString&&(e=e.toString())}if(!p.isString(e))return null;let n=0;for(let s=0;s<e.length;++s){let r=e.charCodeAt(s);n=(n<<5)-n+r,n&=n}return n},gt=e=>p.isString(e)?e.charAt(0).toUpperCase()+e.slice(1):"",q={hashCode:dt,capitalize:gt};var pe=[[/(quiz)$/i,"$1zes"],[/^(oxen)$/i,"$1"],[/^(ox)$/i,"$1en"],[/(m|l)ice$/i,"$1ice"],[/(m|l)ouse$/i,"$1ice"],[/(passer)s?by$/i,"$1sby"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/([lr])f$/i,"$1ves"],[/([^f])fe$/i,"$1ves"],[/sis$/i,"ses"],[/([ti])a$/i,"$1a"],[/([ti])um$/i,"$1a"],[/(buffal|potat|tomat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status)$/i,"$1es"],[/(octop|vir)i$/i,"$1i"],[/(octop|vir)us$/i,"$1i"],[/^(ax|test)is$/i,"$1es"],[/s$/i,"s"],[/$/i,"s"]],fe=[[/(database)s$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/(passer)sby$/i,"$1by"],[/^(ox)en/i,"$1"],[/(alias|status)(es)?$/i,"$1"],[/(octop|vir)(us|i)$/i,"$1us"],[/^(a)x[ie]s$/i,"$1xis"],[/(cris|test)(is|es)$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)(es)?$/i,"$1"],[/(m|l)ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(t)he(sis|ses)$/i,"$1hesis"],[/(s)ynop(sis|ses)$/i,"$1ynopsis"],[/(p)rogno(sis|ses)$/i,"$1rognosis"],[/(p)arenthe(sis|ses)$/i,"$1arenthesis"],[/(d)iagno(sis|ses)$/i,"$1iagnosis"],[/(b)a(sis|ses)$/i,"$1asis"],[/(a)naly(sis|ses)$/i,"$1nalysis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(ss)$/i,"$1"],[/s$/i,""]],he=new Set(["equipment","fish","information","jeans","money","rice","series","sheep","species"]),v=(e,t)=>{let n=u=>Array.from(u).map(a=>"["+a+a.toUpperCase()+"]").join(""),s=(u,a,b)=>{u.splice(a,0,[new RegExp(b[0],"i"),b[1]])},r=(u,a)=>{s(pe,u,a)},o=(u,a)=>{s(fe,u,a)};e[0].toUpperCase()==t[0].toUpperCase()?(r(0,[`(${e[0]})${e.slice(1)}$`,"$1"+t.slice(1)]),r(0,[`(${t[0]})${t.slice(1)}$`,"$1"+t.slice(1)]),o(0,[`(${t[0]})${t.slice(1)}$`,"$1"+e.slice(1)])):(r(0,[`${e[0].toUpperCase()}${n(e.slice(1))}$`,t[0].toUpperCase()+t.slice(1)]),r(0,[`${e[0].toLowerCase()}${n(e.slice(1))}$`,t[0].toLowerCase()+t.slice(1)]),r(0,[`${t[0].toUpperCase()}${n(t.slice(1))}$`,t[0].toUpperCase()+t.slice(1)]),r(0,[`${t[0].toLowerCase()}${n(t.slice(1))}$`,t[0].toLowerCase()+t.slice(1)]),o(0,[`${t[0].toUpperCase()}${n(t.slice(1))}$`,e[0].toUpperCase()+e.slice(1)]),o(0,[`${t[0].toLowerCase()}${n(t.slice(1))}$`,e[0].toLowerCase()+e.slice(1)]))},mt=(e,t=!0)=>{let n=Ue(e).replace(/-/," ").replace(/(?:^\w|[A-Z]|\b\w)/g,function(r,o){return o===0?r.toLowerCase():r.toUpperCase()}).replace(/\s+/g,"");return t?n.charAt(0).toUpperCase()+n.slice(1):n};function Ue(e){return e.replace(/_/g,"-")}function Ie(e){return e=e.replace(/_id$/i,""),e=e.replace(/_/g," "),e=e.replace(/([a-z\d]*)/g,function(t){return t.toLowerCase()}),e=e.replace(/^\w/,function(t){return t.toUpperCase()}),e}function Pe(e){let t=Math.abs(parseInt(e));if([11,12,13].includes(t%100))return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function yt(e){return e+Pe(e)}var $t=(e,t="-")=>{let s=Me(e).replace(/[^\d\w-]+/gmi,t);if(t!==""){for(;s.startsWith(t);)s=s.slice(t.length);for(;s.endsWith(t);)s=s.slice(0,s.length-t.length)}return s.toLowerCase()},De=e=>{let t=/[A-Z]/.test(e.charAt(0)),n=/[A-Za-z]$/.test(e);if(!e||he.has(e.toLowerCase())||!n)return e;for(let s of pe){let r=s[0],o=s[1];if(r.test(e)){let u=e.replace(r,o);return t?q.capitalize(u):u}}return e},bt=e=>{let t=/[A-Z]/.test(e.charAt(0));for(let n of he)if(new RegExp(`\\b${n}\\b`,"i").test(e))return e;for(let n of fe){let s=n[0],r=n[1];if(s.test(e)){let o=e.replace(s,r);return t?q.capitalize(o):o}}return e},Ct=e=>De(de(e));function Et(e){return Ie(de(e)).split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function Me(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"").trim()}function de(e){let t=e.replace(/([a-z\d])([A-Z])/g,"$1_$2");return t=t.replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2"),t=t.replace(/-/g,"_"),t.toLowerCase()}v("person","people");v("man","men");v("human","humans");v("child","children");v("sex","sexes");v("move","moves");v("cow","kine");v("zombie","zombies");v("slave","slaves");v("this","this");v("flour","flour");v("milk","milk");v("water","water");v("reserve","reserves");v("gas","gasses");v("bias","biases");v("atlas","atlases");v("goose","geese");v("pasta","pastas");v("slice","slices");v("cactus","cacti");var ze={camelize:mt,dasherize:Ue,humanize:Ie,ordinal:Pe,ordinalize:yt,parameterize:$t,pluralize:De,singularize:bt,tableize:Ct,titleize:Et,transliterate:Me,underscore:de,UNCOUNTABLES:he,PLURALS:pe,SINGULARS:fe};var ye={};X(ye,{Option:()=>ge,Result:()=>me});var _t=e=>p.isError(e,!1),ge=class{},me=class{constructor(t,n,s,r=!1){this.fn=t;this.result=n;this.error=s;this.ran=r}match(t){let n=this.isErr();return this.isOk()&&this.result!==void 0?t.onOk(this.result):n&&this.error!==void 0?t.onError(this.error):t.debug&&t.debug(this.result,this.error),[this.result,this.error]}run(...t){this.ran=!0;try{let n=this.fn(...t);_t(n)?this.error=n:this.result=n}catch(n){this.error=n}return this}isErr(){if(!this.ran)return null;let t=this.error===void 0,n=this.result===void 0;return n&&t?null:!!(n&&!t)}isOk(){if(!this.ran)return null;let t=this.error===void 0;return this.result===void 0&&t?null:!!t}};var vt=k({check:p,parser:Fe,inflection:ze,utils:q,date:Z,fuzzy:je,array:Ne,diff:ke,std:ye},ve);return Qe(Bt);})();
//# sourceMappingURL=clasico-utils.js.map
